"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.convertBridgeRoutesToServerRoutes = void 0;
const types_1 = require("./types");
const core_1 = require("../core");
const method_1 = require("./method");
const serverRoutes = {};
const convertBridgeRoutesToServerRoutes = (routes, prefix = '') => {
    for (const [key, value] of Object.entries(routes)) {
        if (!value)
            continue;
        else if ((0, method_1.isBridgeMethod)(value))
            serverRoutes[`${prefix}/${key}`] = value.methods;
        else if ((0, core_1.isBridgeHandler)(value))
            serverRoutes[`${prefix}/${key}`] = { POST: value };
        else if ((0, types_1.isBridgeRoutes)(value))
            (0, exports.convertBridgeRoutesToServerRoutes)(value, `${prefix}/${key}`);
    }
    return serverRoutes;
};
exports.convertBridgeRoutesToServerRoutes = convertBridgeRoutesToServerRoutes;
//# sourceMappingURL=convert.js.map